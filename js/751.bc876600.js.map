{"version":3,"file":"js/751.bc876600.js","mappings":"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","sources":["webpack://project_a/./src/components/PaginationEl.vue","webpack://project_a/./src/components/PaginationEl.vue?f24f","webpack://project_a/./src/views/backstage/OrderPage.vue","webpack://project_a/./src/components/backstage/OrderModal.vue","webpack://project_a/./src/components/backstage/OrderModal.vue?08c1","webpack://project_a/./src/views/backstage/OrderPage.vue?c1e1"],"sourcesContent":["<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <li class=\"page-item\" :class=\"{ 'disabled': pages.has_pre < 1 }\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" @click.prevent=\"updatePage(1)\">\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\" v-for=\"page in pages.total_pages\" :key=\"page\"\r\n        :class=\"{ 'active': page === pages.current_page }\">\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">{{ page }}</a>\r\n      </li>\r\n      <li class=\"page-item\" :class=\"{ 'disabled': pages.has_next < 1 }\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\" @click.prevent=\"endPage\">\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\n// :pages=\"{ 頁碼資訊 }\"\r\n// @emitPages=\"更新頁面事件\"\r\nexport default {\r\n  props: ['pages'],\r\n  methods: {\r\n    updatePage(page) {\r\n      this.$emit('emit-pages', page); // emit-pages :切換頁面事件的名稱， page :頁碼\r\n    },\r\n    nextPage() {\r\n      if (this.pages.has_next === true) {\r\n        this.$emit('emit-pages', this.pages.current_page + 1); // 切換到下一頁\r\n      }\r\n    },\r\n    prePage() {\r\n      if (this.pages.has_pre === true) {\r\n        this.$emit('emit-pages', this.pages.current_page - 1); // 切換到上一頁\r\n      }\r\n    },\r\n    endPage() {\r\n      if (this.pages.total_pages) {\r\n        this.$emit('emit-pages', this.pages.total_pages);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./PaginationEl.vue?vue&type=template&id=5be415ea\"\nimport script from \"./PaginationEl.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationEl.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <LoadingElement :active=\"isLoading\"></LoadingElement>\r\n    <div class=\"container\">\r\n      <table class=\"table mt-4\">\r\n        <thead>\r\n          <tr>\r\n            <th>購買時間</th>\r\n            <th>Email</th>\r\n            <th>商品 / 數量</th>\r\n            <th>購買金額</th>\r\n            <th>是否付款</th>\r\n            <th>編輯</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <template v-for=\"(item, key) in orders\" :key=\"key\">\r\n            <tr>\r\n              <!-- 加入filters元件轉換時間格式，$filters 為自定義屬性名稱，最前方加上\"$\"可避免與區域元件內的變數產生衝突 -->\r\n              <td>{{ $filters.date(item.create_at) }}</td>\r\n              <td>{{ item.user.email }}</td>\r\n              <td>\r\n                <ul class=\"list-unstyle\">\r\n                  <li v-for=\"(product, i) in item.products\" :key=\"i\">\r\n                    {{ product.product.title }}<br />\r\n                    數量: {{ product.qty }}{{ product.product.unit }}\r\n                  </li>\r\n                </ul>\r\n              </td>\r\n              <td>{{ $filters.currency(item.total) }}</td>\r\n              <td>\r\n                <div class=\"form-check form-switch\">\r\n                  <label :for=\"`paidSwitch${item.id}`\" class=\"form-check-label\">\r\n                    <input type=\"checkbox\" :id=\"`paidSwitch${item.id}`\" v-model=\"item.is_paid\"\r\n                      @change=\"updatePaid(item)\" class=\"form-check-input\">\r\n                    <span v-if=\"item.is_paid\">已付款</span>\r\n                    <span v-else>未付款</span>\r\n                  </label>\r\n                </div>\r\n              </td>\r\n              <td>\r\n                <button class=\"btn btn-outline-primary btn-sm\" @click.prevent=\"openModal(item)\">檢視</button>\r\n                <button class=\"btn btn-outline-danger btn-sm\" @click.prevent=\"openDelOrderModal(item)\">刪除</button>\r\n              </td>\r\n            </tr>\r\n          </template>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <Pagination :pages=\"pagination\" @emit-pages=\"getOrders\"></Pagination>\r\n    <DelModal :item=\"tempOrder\" ref=\"delModal\" @del-item=\"delOrder\"></DelModal>\r\n    <OrderModal ref=\"orderModal\" :order=\"tempOrder\" @update-order=\"updatePaid\"></OrderModal>\r\n  </div>\r\n</template>\r\n\r\n<style>\r\nbutton {\r\n  margin-right: 10px;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport DelModal from '@/components/backstage/DelModal.vue';\r\nimport OrderModal from '@/components/backstage/OrderModal.vue';\r\nimport Pagination from '@/components/PaginationEl.vue';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      orders: [], // 訂單內容\r\n      pagination: {}, // 分頁\r\n      tempOrder: {}, // 目前品項的內容\r\n      isNew: false, // 是否為新增\r\n      isLoading: false, // 讀取動態效果\r\n      currentPage: 1, // 目前頁碼\r\n    };\r\n  },\r\n  components: {\r\n    DelModal,\r\n    OrderModal,\r\n    Pagination,\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getOrders(page = 1) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`;\r\n      this.isLoading = true;\r\n      this.$http.get(api).then((res) => {\r\n        this.isLoading = false;\r\n        if (res.data.success) {\r\n          this.orders = res.data.orders;\r\n          this.pagination = res.data.pagination;\r\n        }\r\n      });\r\n    },\r\n    openModal(item) {\r\n      this.tempOrder = { ...item }; // 解構item\r\n      const orderComponent = this.$refs.orderModal;\r\n      orderComponent.showModal();\r\n    },\r\n    updatePaid(item) {\r\n      // 更新資料的api路徑\r\n      this.isLoading = true; // 執行loading動態\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\r\n      // 宣告paid為is_paid\r\n      const paid = {\r\n        is_paid: item.is_paid,\r\n      };\r\n      // 使用put方法傳送資料\r\n      this.$http.put(api, { data: paid }).then((res) => {\r\n        this.$httpMessageState(res, '更新付款狀態');\r\n        this.isLoading = false; // 停止loading動態\r\n        this.getOrders(this.currentPage); // 取得目前頁面的訂單資料\r\n      });\r\n    },\r\n    openDelOrderModal(item) {\r\n      this.tempOrder = { ...item }; // 解構item\r\n      const delComponent = this.$refs.delModal;\r\n      delComponent.showModal();\r\n    },\r\n    delOrder() {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`;\r\n      this.$http.delete(api).then((res) => {\r\n        this.$httpMessageState(res, '成功刪除訂單');\r\n        const delComponent = this.$refs.delModal;\r\n        delComponent.hideModal();\r\n        this.emitter.emit('update-orders');\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.emitter.on('update-orders', () => {\r\n      this.getOrders();\r\n    });\r\n  },\r\n  created() {\r\n    this.getOrders();\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <div class=\"modal\" id=\"productModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\" ref=\"modal\">\r\n    <div class=\"ordermodal modal-dialog modal-xl\" role=\"document\">\r\n      <div class=\"modal-header border-0\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n          <span>訂單資料</span>\r\n        </h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"row\">\r\n          <div class=\"userbox col-md-4\">\r\n            <h3>訂購人資料</h3>\r\n            <table v-if=\"tempOrder.user\">\r\n              <tr>\r\n                <th style=\"width:100px;\">姓名</th>\r\n                <td>{{ tempOrder.user.name }}</td>\r\n              </tr>\r\n              <tr>\r\n                <th>Email</th>\r\n                <td>{{ tempOrder.user.email }}</td>\r\n              </tr>\r\n              <tr>\r\n                <th>電話</th>\r\n                <td>{{ tempOrder.user.tel }}</td>\r\n              </tr>\r\n              <tr>\r\n                <th>地址</th>\r\n                <td>{{ tempOrder.user.address }}</td>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n          <div class=\"orderbox col-md-8\">\r\n            <h3>訂單內容</h3>\r\n            <table class=\"table\">\r\n              <tbody>\r\n                <tr>\r\n                  <th style=\"width:100px;\">訂單編號</th>\r\n                  <td>{{ tempOrder.id }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>下單時間</th>\r\n                  <td>{{ $filters.date(tempOrder.create_at) }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>付款時間</th>\r\n                  <td>\r\n                    <span v-if=\"tempOrder.paid_date\">\r\n                      {{ $filters.date(tempOrder.paid_date) }}\r\n                    </span>\r\n                    <span v-else>尚未付款</span>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <th>總金額</th>\r\n                  <td>{{ $filters.currency(tempOrder.total) }}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <h3>選購商品</h3>\r\n            <table class=\"table\">\r\n              <thead>\r\n                <tr></tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\r\n                  <th>{{ item.product.title }}</th>\r\n                  <td>數量 : {{ item.qty }}</td>\r\n                  <td class=\"text-end\">\r\n                    {{ $filters.currency(item.final_total) }}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">\r\n          取消\r\n        </button>\r\n        <button class=\"btn btn-primary\" @click.prevent=\"$emit('update-order', tempOrder)\">確認</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n.ordermodal {\r\n  background: #fff !important;\r\n}\r\n\r\n.userbox {\r\n  border-right: 1px solid #333;\r\n}\r\n\r\n.userbox h3 {\r\n  font-weight: bold;\r\n}\r\n\r\n.orderbox h3 {\r\n  font-weight: bold;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin'; // 匯入modalMixin\r\n\r\nexport default {\r\n  name: 'orderModal',\r\n  props: {\r\n    order: { // 外層使用tempOrder傳遞資料，內層以order接收\r\n      type: Object, // order的類型為object\r\n      default() { // 若外層未正確傳遞，則傳送空物件為預設值(default)\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      tempOrder: {},\r\n      isPaid: false,\r\n    };\r\n  },\r\n  mixins: [modalMixin], // 加入已建立相同程式碼modalMixin\r\n  watch: {\r\n    order() {\r\n      this.tempOrder = this.order; // 將外層傳遞的資料，用新的order儲存接收，也是實際修改的名稱\r\n      this.isPaid = this.tempOrder.is_paid; // isPaid資料為is_paid\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./OrderModal.vue?vue&type=template&id=3573d204\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport \"./OrderModal.vue?vue&type=style&index=0&id=3573d204&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OrderPage.vue?vue&type=template&id=9754642e\"\nimport script from \"./OrderPage.vue?vue&type=script&lang=js\"\nexport * from \"./OrderPage.vue?vue&type=script&lang=js\"\n\nimport \"./OrderPage.vue?vue&type=style&index=0&id=9754642e&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_normalizeClass","$props","pages","has_pre","href","onClick","_cache","_withModifiers","$event","$options","updatePage","_Fragment","_renderList","total_pages","page","current_page","key","_hoisted_3","has_next","args","endPage","props","methods","this","$emit","nextPage","prePage","__exports__","render","_createVNode","_component_LoadingElement","active","$data","isLoading","orders","item","_toDisplayString","_ctx","$filters","date","create_at","user","email","products","product","i","_createTextVNode","title","qty","unit","currency","total","_hoisted_4","for","id","type","is_paid","onChange","updatePaid","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_5","openModal","_hoisted_9","openDelOrderModal","_hoisted_10","_component_Pagination","pagination","onEmitPages","getOrders","_component_DelModal","tempOrder","ref","onDelItem","delOrder","_component_OrderModal","order","onUpdateOrder","tabindex","role","style","name","tel","address","_createCommentVNode","paid_date","_hoisted_11","_hoisted_12","final_total","_hoisted_13","Object","default","data","isPaid","mixins","modalMixin","watch","isNew","currentPage","components","DelModal","OrderModal","Pagination","inject","api","$http","get","then","res","success","orderComponent","$refs","orderModal","showModal","paid","put","$httpMessageState","delComponent","delModal","delete","hideModal","emitter","emit","mounted","on","created"],"sourceRoot":""}