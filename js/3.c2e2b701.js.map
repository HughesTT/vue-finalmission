{"version":3,"file":"js/3.c2e2b701.js","mappings":"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","sources":["webpack://project_a/./src/views/PayMent.vue","webpack://project_a/./src/views/PayMent.vue?dcf3"],"sourcesContent":["<template>\r\n  <LoadingElement :active=\"isLoading\" />\r\n  <div class=\"container\">\r\n    <div class=\"userfavorite\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-8\">\r\n          <h3><i class=\"bi bi-cart-check\"></i> 購物車</h3>\r\n          <template v-if=\"cart.carts && cart.carts.length > 0\">\r\n            <div class=\"paymentschedule justify-content-center\">\r\n              <div class=\"payment-step-off text-center\">\r\n                <i class=\"bi bi-1-circle\"></i> <br>確認商品\r\n              </div>\r\n              <div class=\"payment-step align-middle text-center\">\r\n                <img src=\"../assets/img/dash.png\" alt=\"image\">\r\n              </div>\r\n              <div class=\"payment-step text-center\">\r\n                <i class=\"bi bi-2-circle-fill\"></i> <br>填寫結帳資訊\r\n              </div>\r\n              <div class=\"payment-step align-middle text-center\">\r\n                <img src=\"../assets/img/dash.png\" alt=\"image\">\r\n              </div>\r\n              <div class=\"payment-step-off text-center\">\r\n                <i class=\"bi bi-3-circle\"></i> <br>訂購完成\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"payment-item\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"d-flex align-items-center cart-info\" v-for=\"item in cart.carts\" :key=\"item.id\">\r\n                    <div class=\"cart-productimg\">\r\n                      <img :src=\"item.product.imageUrl\" alt=\"產品照\" class=\"uctimg img-fluid\">\r\n                    </div>\r\n                    <div class=\"payment-productname\">\r\n                      <div class=\"productname-text\">\r\n                        {{ item.product.title }}\r\n                      </div>\r\n                      <div class=\"cart-qty-mobi\">\r\n                        <div class=\"cartqtynum\">數量 : {{ item.qty }}</div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"cart-qty\">\r\n                      數量 : {{ item.qty }}\r\n                    </div>\r\n                    <div class=\"cart-productprice text-end\">\r\n                      ${{ $filters.currency(item.total) }}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"price_difference text-success text-end\" v-if=\"cart.total !== cart.final_total\">\r\n              折扣 : - ${{ $filters.currency(cart.total - cart.final_total) }}\r\n            </div>\r\n            <div class=\"finalprice_section\">\r\n              <div class=\"d-flex cart-price\">\r\n                <div class=\"me-auto p-2\"></div>\r\n                <p class=\"p-2 payment-totalprice\">實際結帳金額：<span class=\"\">NT$ {{\r\n                  $filters.currency(Math.ceil(cart.final_total)) }}</span>\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-md-12 col-12 usecoupon input-gorup mb-3 input-group-sm\">\r\n              <p class=\"title\">使用優惠券</p>\r\n              <div class=\"row\">\r\n                <div class=\"col-md-4 mb-3\">\r\n                  <input aria-label=\"couponcode\" v-model=\"coupon_code\" type=\"text\" class=\"form-control\"\r\n                    placeholder=\"請輸入優惠碼\">\r\n                </div>\r\n                <div class=\"col-md-3 input-group-append\">\r\n                  <button class=\"btn btn-secondary usecouponbtn\" type=\"button\" @click=\"addCouponCode\">套用優惠碼</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"creditcard col-md-12 col-12 mb-3\">\r\n              <div class=\"title mb-3\">付款方式</div>\r\n              <div class=\"form-check\">\r\n                <input class=\"form-check-input\" type=\"radio\" name=\"payway1\" id=\"payway1\" value=\"creditcard1\"\r\n                  v-model=\"selectedPaymentMethod\">\r\n                <label class=\"form-check-label mb-3\" for=\"payway1\">信用卡一次付清</label>\r\n                <div class=\"col-md-8 col-xs-12 col-12 creditcardinfo needs-validation\"\r\n                  v-if=\"selectedPaymentMethod === 'creditcard1'\">\r\n                  <label for=\"ccardnum\" class=\"col-sm-3 col-form-label\">信用卡卡號</label>\r\n                  <div class=\"row col-md-12 col-12 g-4 mb-2\">\r\n                    <div class=\"col-md-3 col-sm\">\r\n                      <input type=\"text\" maxlength=\"4\" class=\"form-control\" placeholder=\"0857\" aria-label=\"num1\">\r\n                    </div>\r\n                    <div class=\"col-md-3 col-sm\">\r\n                      <input type=\"text\" maxlength=\"4\" class=\"form-control\" placeholder=\"0857\" aria-label=\"num2\">\r\n                    </div>\r\n                    <div class=\"col-md-3 col-sm\">\r\n                      <input type=\"text\" maxlength=\"4\" class=\"form-control\" placeholder=\"0857\" aria-label=\"num3\">\r\n                    </div>\r\n                    <div class=\"col-md-3 col-sm mb-1\">\r\n                      <input type=\"text\" maxlength=\"4\" class=\"form-control\" placeholder=\"0857\" aria-label=\"num4\">\r\n                    </div>\r\n                  </div>\r\n                  <label class=\"col-sm-12 col-form-label\">安全碼(卡片後面3位數字)</label>\r\n                  <div class=\"col-md-2 col-sm\">\r\n                    <input type=\"text\" maxlength=\"3\" class=\"form-control\" placeholder=\"cvc\" aria-label=\"num4\">\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-check\">\r\n                <input class=\"form-check-input\" type=\"radio\" name=\"payway2\" id=\"payway2\" value=\"creditcard2\"\r\n                  v-model=\"selectedPaymentMethod\">\r\n                <label class=\"form-check-label mb-3\" for=\"payway2\">信用卡分期付款</label>\r\n                <div class=\"col-md-8 col-12 creditcardinfo\" v-if=\"selectedPaymentMethod === 'creditcard2'\">\r\n                  <label for=\"ccardnum\" class=\"col-sm-3 col-form-label\">信用卡卡號</label>\r\n                  <div class=\"row col-md-12 col-12 g-4 mb-2\">\r\n                    <div class=\"col-md-3 col-sm\">\r\n                      <input type=\"text\" maxlength=\"4\" class=\"form-control\" placeholder=\"0857\" aria-label=\"num1\">\r\n                    </div>\r\n                    <div class=\"col-md-3 col-sm\">\r\n                      <input type=\"text\" maxlength=\"4\" class=\"form-control\" placeholder=\"0857\" aria-label=\"num2\">\r\n                    </div>\r\n                    <div class=\"col-md-3 col-sm\">\r\n                      <input type=\"text\" maxlength=\"4\" class=\"form-control\" placeholder=\"0857\" aria-label=\"num3\">\r\n                    </div>\r\n                    <div class=\"col-md-3 col-sm mb-1\">\r\n                      <input type=\"text\" maxlength=\"4\" class=\"form-control\" placeholder=\"0857\" aria-label=\"num4\">\r\n                    </div>\r\n                  </div>\r\n                  <label class=\"col-sm-12 col-form-label\">安全碼(卡片後面3位數字)</label>\r\n                  <div class=\"col-md-2 col-sm mb-3\">\r\n                    <input type=\"text\" maxlength=\"3\" class=\"form-control\" placeholder=\"cvc\" aria-label=\"num4\">\r\n                  </div>\r\n                  <div class=\"col-md-3 col-sm\">\r\n                    <label class=\"col-sm-12 col-form-label\">分期期數</label>\r\n                    <select class=\"form-select col-md-2\" aria-label=\"Default select example\">\r\n                      <option selected>請選擇</option>\r\n                      <option value=\"1\">3</option>\r\n                      <option value=\"2\">6</option>\r\n                      <option value=\"3\">12</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-check\">\r\n                <input class=\"form-check-input\" type=\"radio\" name=\"payway4\" id=\"payway4\" value=\"creditcard4\"\r\n                  v-model=\"selectedPaymentMethod\">\r\n                <label class=\"form-check-label mb-3\" for=\"payway4\">貨到付款</label>\r\n              </div>\r\n            </div>\r\n            <VForm class=\"orderinfo col-md-12\" v-slot=\"{ errors }\" @submit=\"createOrder\">\r\n              <p class=\"title\">收件人資訊<span class=\"markinput\">( * 為必填欄位)</span></p>\r\n              <div class=\"mb-3\">\r\n                <label for=\"name\" class=\"form-label\">* 收件人姓名</label>\r\n                <VField id=\"name\" name=\"姓名\" type=\"name\" class=\"form-control\" :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n                  placeholder=\"請輸入姓名\" rules=\"required\" v-model=\"form.user.name\"></VField>\r\n                <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"address\" class=\"form-label\">* 收件人地址</label>\r\n                <VField id=\"address\" name=\"地址\" type=\"address\" class=\"form-control\"\r\n                  :class=\"{ 'is-invalid': errors['地址'] }\" placeholder=\"請輸入地址\" rules=\"required\"\r\n                  v-model=\"form.user.address\"></VField>\r\n                <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"tel\" class=\"form-label\">* 收件人電話</label>\r\n                <VField id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\" maxlength=\"10\"\r\n                  :class=\"{ 'is-invalid': errors['電話'] }\" placeholder=\"請輸入電話\" rules=\"required\" v-model=\"form.user.tel\">\r\n                </VField>\r\n                <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"email\" class=\"form-label\">* Email</label>\r\n                <VField id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\r\n                  :class=\"{ 'is-invalid': errors['email'] }\" placeholder=\"請輸入Email\" rules=\"email|required\"\r\n                  v-model=\"form.user.email\"></VField>\r\n                <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"message\" class=\"form-label\">留言</label>\r\n                <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"3\" placeholder=\"請輸入留言\"\r\n                  v-model=\"form.user.message\"></textarea>\r\n              </div>\r\n              <div class=\"text-end\">\r\n                <button class=\"btn btn-purple\">確認付款</button>\r\n              </div>\r\n            </VForm>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\nh3 {\r\n  font-weight: bold;\r\n  color: purple;\r\n}\r\n\r\n.paymentschedule {\r\n  margin: 2em 0;\r\n  display: flex;\r\n\r\n  .payment-step {\r\n    color: purple;\r\n    font-size: 1em;\r\n    margin: 0 5px;\r\n\r\n    @media(max-width: 960px) {\r\n      font-size: 0.9em;\r\n    }\r\n  }\r\n\r\n  .payment-step-dash {\r\n    background: url(../assets/img/dash.png) repeat-x center;\r\n  }\r\n\r\n  .payment-step-off {\r\n    color: #999;\r\n    font-size: 1em;\r\n    margin: 0 5px;\r\n\r\n    @media(max-width: 960px) {\r\n      font-size: 0.9em;\r\n    }\r\n  }\r\n}\r\n\r\n.payment-item {\r\n  padding: 1em;\r\n\r\n  @media(max-width: 960px) {\r\n    padding: 10px;\r\n  }\r\n\r\n  .cart-info {\r\n    margin-right: 1em;\r\n    border-bottom: solid 1px #eee;\r\n\r\n    @media(max-width: 960px) {\r\n      margin-bottom: 0;\r\n      padding: 10px 0;\r\n    }\r\n  }\r\n\r\n  .cart-delbtn {\r\n    margin-right: 1em;\r\n\r\n    @media(max-width:960px) {\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n\r\n  .cart-productimg {\r\n    width: 150px;\r\n\r\n    @media(max-width:960px) {\r\n      width: 100px;\r\n    }\r\n  }\r\n\r\n  .payment-productname {\r\n    width: 400px;\r\n\r\n    @media(max-width:960px) {\r\n      width: 300px;\r\n      font-size: 1em;\r\n    }\r\n\r\n    .productname-text {\r\n      font-size: 1em;\r\n      margin-bottom: 3px;\r\n    }\r\n\r\n    input {\r\n      width: 60px;\r\n    }\r\n  }\r\n\r\n  .cart-productprice {\r\n    width: 150px;\r\n    color: #7030a0;\r\n    margin-bottom: 1em;\r\n    margin-left: 1em;\r\n    font-weight: bold;\r\n\r\n    @media(max-width:960px) {\r\n      width: 220px;\r\n      font-size: 0.9em;\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  .cart-qty {\r\n    width: 70px;\r\n\r\n    @media(max-width:960px) {\r\n      margin-left: 10px;\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  .cart-qty-mobi {\r\n    display: none;\r\n\r\n    @media(max-width:960px) {\r\n      display: block;\r\n    }\r\n\r\n    .cartqtynum {\r\n      padding-left: 0;\r\n    }\r\n  }\r\n\r\n  .cart-price {\r\n    max-height: 130px;\r\n    padding: 0;\r\n\r\n    p {\r\n      margin-right: 10px;\r\n      margin-top: 10px;\r\n    }\r\n\r\n    .cart-pay-btn {\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n\r\n  .cart-price-title {\r\n    font-weight: bold;\r\n    font-size: 1.2em;\r\n    padding-left: 10px;\r\n    color: #fff;\r\n    background: #7030a0;\r\n  }\r\n}\r\n\r\n.price_difference {\r\n  padding-right: 2em;\r\n\r\n  @media(max-width:960px) {\r\n    padding-right: 1.5em;\r\n    margin-top: 0;\r\n  }\r\n}\r\n\r\n.finalprice_section {\r\n  position: sticky !important;\r\n  top: 89px !important;\r\n  background: #fff;\r\n  margin-bottom: 1em;\r\n  padding-right: 1.4em;\r\n\r\n  @media(max-width: 960px) {\r\n    padding-right: 1em;\r\n    top: 75px !important;\r\n  }\r\n\r\n  .payment-totalprice {\r\n    font-weight: bold;\r\n    font-size: 1.2em;\r\n    color: #7030a0;\r\n    padding-right: 10px;\r\n  }\r\n}\r\n\r\n.payment_btn {\r\n  margin-top: 10px;\r\n}\r\n\r\n.userfavorite {\r\n  padding: 0 1em 0 1em;\r\n  margin-top: 150px;\r\n  margin-bottom: 5em;\r\n}\r\n\r\n.usecouponbtn {\r\n  margin-left: -20px;\r\n\r\n  @media(max-width: 960px) {\r\n    margin-left: 0;\r\n    margin-top: -10px;\r\n  }\r\n}\r\n\r\n.usecoupon {\r\n  background: #f6f6f6;\r\n  padding: 1em;\r\n  border-radius: 15px;\r\n}\r\n\r\n.creditcard {\r\n  background: #f6f6f6;\r\n  padding: 1em;\r\n  border-radius: 15px;\r\n}\r\n\r\n.creditcardinfo {\r\n  background: #fffef1;\r\n  padding: 5px 1em 1em 1em;\r\n  border-radius: 15px;\r\n}\r\n\r\n.orderinfo {\r\n  background: #f6f6f6;\r\n  padding: 1em;\r\n  border-radius: 15px;\r\n}\r\n\r\n.goshopping {\r\n  font-size: 1.3rem;\r\n  text-align: center;\r\n  margin-top: 20px;\r\n}\r\n\r\n.title {\r\n  font-size: 1.3em;\r\n  font-weight: bold;\r\n  padding-left: 10px;\r\n  border-left: solid 5px #333;\r\n}\r\n\r\n.finaltotal {\r\n  font-weight: bold;\r\n}\r\n\r\nlabel {\r\n  font-weight: bold;\r\n}\r\n\r\n.markinput {\r\n  font-size: 0.7em;\r\n  margin-left: 1em;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport emitter from '@/methods/emitter';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [],\r\n      product: {},\r\n      isLoading: false,\r\n      status: {\r\n        loadingItem: '',\r\n      },\r\n      form: { // 最終訂單\r\n        user: {\r\n          name: '',\r\n          emial: '',\r\n          tel: '',\r\n          address: '',\r\n        },\r\n        message: '',\r\n      },\r\n      cart: {}, // 購物車內容\r\n      coupon_code: '', // 優惠碼\r\n      finaltotal: 0,\r\n      orderId: '',\r\n      selectedPaymentMethod: '', // 新增此變數追蹤付款方式的選擇\r\n    };\r\n  },\r\n  methods: {\r\n    scrollBehavior() {\r\n      window.scrollTo(0, 0);\r\n    },\r\n    getProducts() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products`;\r\n      this.isLoading = true; // 取得資料前先執行讀取動態\r\n      this.$http.get(url).then((res) => {\r\n        this.products = res.data.products; // 將讀取到的資料，存到自行建立的porducts\r\n        this.isLoading = false;// 取得資料後停止讀取動態\r\n        this.pagination = res.data.pagination; // 分頁資料\r\n      });\r\n    },\r\n    getCart() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n      this.isLoading = true;\r\n      this.$http.get(url).then((res) => {\r\n        this.cart = res.data.data;\r\n        this.isLoading = false;\r\n        emitter.emit('update-cart');\r\n      });\r\n    },\r\n    addCouponCode() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\r\n      const coupon = {\r\n        code: this.coupon_code,\r\n      };\r\n      this.isLoading = true;\r\n      this.$http.post(url, { data: coupon }).then((res) => {\r\n        if (this.coupon_code === coupon.code) {\r\n          this.$httpMessageState(res, '成功套用優惠券');\r\n          this.coupon_code = ''; // 套用完優惠券將其清空\r\n          this.isLoading = false;\r\n          this.getCart();\r\n        } else {\r\n          this.$httpMessageState(res, '優惠碼使用成功');\r\n          this.isLoading = false;\r\n        }\r\n      });\r\n    },\r\n    getOrderId(orderId) {\r\n      this.$router.push(`/user/userorder/${orderId}`);\r\n    },\r\n    payOrder() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\r\n      this.$http.post(url).then((res) => {\r\n        if (res.data.success) { // 若回傳成功，顯示完成付款資訊\r\n          this.$httpMessageState(res, '付款成功');\r\n        }\r\n      });\r\n    },\r\n    createOrder() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\r\n      const order = this.form;\r\n      this.isLoading = true;\r\n      this.$http.post(url, { data: order }).then((res) => {\r\n        this.$httpMessageState(res, '訂單建立');\r\n        this.isLoading = false;\r\n        this.getCart();\r\n        this.orderId = res.data.orderId;\r\n        this.getOrderId(this.orderId);\r\n        this.payOrder(this.orderId);\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    this.orderId = this.$route.params.orderId; // 藉由route取得orderId\r\n    this.getCart();\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./PayMent.vue?vue&type=template&id=a7b4be82\"\nimport script from \"./PayMent.vue?vue&type=script&lang=js\"\nexport * from \"./PayMent.vue?vue&type=script&lang=js\"\n\nimport \"./PayMent.vue?vue&type=style&index=0&id=a7b4be82&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_Fragment","_createVNode","_component_LoadingElement","active","$data","isLoading","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createTextVNode","cart","carts","length","_createStaticVNode","_imports_0","_hoisted_5","_hoisted_6","_hoisted_7","_renderList","item","id","_hoisted_8","src","product","imageUrl","alt","_hoisted_9","_hoisted_10","_hoisted_11","_toDisplayString","title","_hoisted_12","_hoisted_13","qty","_hoisted_14","_hoisted_15","_ctx","$filters","currency","total","final_total","_hoisted_16","_createCommentVNode","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","Math","ceil","_hoisted_21","_hoisted_22","_hoisted_23","_cache","$event","coupon_code","type","placeholder","_hoisted_24","onClick","args","$options","addCouponCode","_hoisted_25","_hoisted_26","name","value","selectedPaymentMethod","for","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_component_VForm","onSubmit","createOrder","default","_withCtx","errors","_hoisted_31","_component_VField","_normalizeClass","rules","modelValue","form","user","_component_ErrorMessage","_hoisted_32","address","_hoisted_33","maxlength","tel","_hoisted_34","email","_hoisted_35","cols","rows","message","_","data","products","status","loadingItem","emial","finaltotal","orderId","methods","scrollBehavior","window","scrollTo","getProducts","url","this","$http","get","then","res","pagination","getCart","emitter","emit","coupon","code","post","$httpMessageState","getOrderId","$router","push","payOrder","success","order","created","$route","params","__exports__","render"],"sourceRoot":""}