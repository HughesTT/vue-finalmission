"use strict";(self["webpackChunkproject_a"]=self["webpackChunkproject_a"]||[]).push([[613],{365:function(t,i,s){t.exports=s.p+"img/creditcard.e626f381.png"},6622:function(t,i,s){s.r(i),s.d(i,{default:function(){return et}});var a=s(6768),e=s(4232),o=s(5130),c=s.p+"img/defaultblock.731a071a.jpg",l=s.p+"img/specification.4bd5d369.png",d=s.p+"img/specification_mobi.a19867bf.png",r=s(365);const n={class:"container"},u={class:"productmore"},v={class:"row justify-content-center"},p={class:"col-md-10 col-12"},h={"aria-label":"breadcrumb"},f={class:"breadcrumb"},b={class:"breadcrumb-item"},g={class:"breadcrumb-item"},m={class:"breadcrumb-item active","aria-current":"page"},k={class:"row"},L={class:"col-md-6"},y=["src"],x={class:"col-md-6"},C={class:"productdes"},_={class:"h6"},$={class:"h5 mb-3"},q={class:"d-flex bd-highlight"},w={class:"p-1 flex-grow-1 bd-highlight"},I={class:"d-flex align-items-center mb-3"},F={class:"cartqtynum text-center"},P={class:"p-1 bd-highlight"},E={class:"p-1 bd-highlight"},j={key:0,class:"bi bi-heart"},T={key:1,class:"bi bi-heart-fill"},X={class:"productinfo"},S={class:"tab-content",id:"myTabContent"},A={class:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"home-tab"},N={class:"product-details"},O={class:"row"},R={class:"col-md-6 col-12"},B=["src"],J={class:"col-md-6 col-12"},Q={class:"product-content",ref:"textContent"},K={class:"col-md-6 col-12"},M=["src"],U={key:0,class:"relatedproducts"},W={class:"container"},D={class:"row justify-content-md-center"},H=["onClick"],z={class:"product_img"},G=["src"],V={class:"product_title"},Y={class:"product_price"};function Z(t,i,s,Z,tt,it){const st=(0,a.g2)("LoadingElement"),at=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(st,{active:tt.isLoading},null,8,["active"]),(0,a.Lk)("div",n,[(0,a.Lk)("div",u,[(0,a.Lk)("div",v,[(0,a.Lk)("div",p,[(0,a.Lk)("nav",h,[(0,a.Lk)("ol",f,[(0,a.Lk)("li",b,[(0,a.bF)(at,{to:"/",class:"breadcrumb-item-link"},{default:(0,a.k6)((()=>i[4]||(i[4]=[(0,a.eW)("首頁")]))),_:1})]),(0,a.Lk)("li",g,[(0,a.bF)(at,{to:"/productlist/allproducts",class:"breadcrumb-item-link"},{default:(0,a.k6)((()=>i[5]||(i[5]=[(0,a.eW)("所有商品")]))),_:1})]),(0,a.Lk)("li",m,(0,e.v_)(tt.product.title),1)])]),(0,a.Lk)("div",k,[(0,a.Lk)("article",L,[(0,a.Lk)("img",{src:tt.product.imageUrl,alt:"產品照",class:"img-fluid mb-3",width:"600"},null,8,y)]),(0,a.Lk)("div",x,[(0,a.Lk)("h2",null,(0,e.v_)(tt.product.title),1),(0,a.Lk)("div",C,(0,e.v_)(tt.product.description),1),(0,a.Lk)("del",_,"原價 "+(0,e.v_)(t.$filters.currency(tt.product.origin_price))+" 元",1),(0,a.Lk)("div",$,"NT "+(0,e.v_)(t.$filters.currency(tt.product.price))+" 元",1),(0,a.Lk)("div",q,[(0,a.Lk)("div",w,[(0,a.Lk)("div",I,[(0,a.Lk)("button",{class:"cart-icons qtyadjustbtn",onClick:i[0]||(i[0]=t=>it.qtyAdjust(-1))},"- "),(0,a.Lk)("div",F,(0,e.v_)(tt.qty),1),(0,a.Lk)("button",{class:"cart-icons qtyadjustbtn",onClick:i[1]||(i[1]=t=>it.qtyAdjust(1))},"+")])]),(0,a.Lk)("div",P,[(0,a.Lk)("button",{type:"button",class:"btn btn-outline-purple",onClick:i[2]||(i[2]=t=>it.addToCart(tt.product.id))}," 加到購物車 ")]),(0,a.Lk)("div",E,[(0,a.Lk)("button",{class:"btn btn-outline-purple",onClick:i[3]||(i[3]=t=>it.toggleFavorite(tt.product))},[it.isFavorite(tt.product.id)?((0,a.uX)(),(0,a.CE)("i",T)):((0,a.uX)(),(0,a.CE)("i",j))])])])])]),(0,a.Lk)("div",X,[i[8]||(i[8]=(0,a.Lk)("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[(0,a.Lk)("li",{class:"nav-item",role:"presentation"},[(0,a.Lk)("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"},"介紹")]),(0,a.Lk)("li",{class:"nav-item",role:"presentation"},[(0,a.Lk)("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false"},"規格")])],-1)),(0,a.Lk)("div",S,[(0,a.Lk)("div",A,[(0,a.Lk)("div",N,[(0,a.Lk)("div",O,[(0,a.Lk)("div",R,[tt.product.images&&tt.product.images.length>1?((0,a.uX)(),(0,a.CE)("img",{key:0,src:tt.product.images[0],alt:"產品照",class:"img-fluid mb-3"},null,8,B)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",J,[(0,a.Lk)("div",Q,null,512)]),i[6]||(i[6]=(0,a.Lk)("div",{class:"col-md-6 col-12 defaultblock"},[(0,a.Lk)("img",{src:c,class:"img-fluid",alt:""})],-1)),(0,a.Lk)("div",K,[tt.product.images&&tt.product.images.length>1?((0,a.uX)(),(0,a.CE)("img",{key:0,src:tt.product.images[1],alt:"產品照",class:"img-fluid mb-3"},null,8,M)):(0,a.Q3)("",!0)])])])]),i[7]||(i[7]=(0,a.Lk)("div",{class:"tab-pane fade",id:"profile",role:"tabpanel","aria-labelledby":"profile-tab"},[(0,a.Lk)("div",{class:"product-details"},[(0,a.Lk)("div",{class:"specification"},[(0,a.Lk)("img",{src:l,alt:"產品規格",class:"img-fluid"})]),(0,a.Lk)("div",{class:"specification_mobi"},[(0,a.Lk)("img",{src:d,alt:"產品規格",class:"img-fluid"})])])],-1))])])])])])]),tt.filterProducts.length>1?((0,a.uX)(),(0,a.CE)("div",U,[(0,a.Lk)("div",W,[(0,a.Lk)("div",D,[i[10]||(i[10]=(0,a.Lk)("h3",null,"你可能感興趣的",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(tt.filterProducts,(s=>((0,a.uX)(),(0,a.CE)("div",{class:"productbox col-md-3 col-6",key:s.id},[(0,a.Lk)("a",{href:"#",onClick:(0,o.D$)((t=>it.getRelatedProduct(s.id)),["prevent"])},[(0,a.Lk)("div",z,[i[9]||(i[9]=(0,a.Lk)("div",{class:"morebox"},[(0,a.Lk)("div",{class:"morebtn"},"更多資訊")],-1)),(0,a.Lk)("img",{src:s.imageUrl,class:"img-fluid",alt:"產品照"},null,8,G)]),(0,a.Lk)("div",V,(0,e.v_)(s.title),1),(0,a.Lk)("div",Y," NT $"+(0,e.v_)(t.$filters.currency(s.price)),1)],8,H)])))),128))])])])):(0,a.Q3)("",!0),i[11]||(i[11]=(0,a.Fv)('<div class="notify"><div class="container"><div class="row"><div class="notifybox col-md-4"><div class="notify-icon"><i class="bi bi-truck"></i></div><div class="notify-title"> 運送 &amp; 運費須知 </div><div class="notify-border"></div><div class="notify-content"><p>運費會根據送貨區域而有所不同。<br> 如果一次購買商品總金額達到NT$8000或以上，則運費免費。</p></div></div><div class="notifybox col-md-4"><div class="notify-icon"><i class="bi bi-info-circle"></i></div><div class="notify-title"> 退貨須知 </div><div class="notify-border"></div><div class="notify-content"><div class="notify-box"><div class="notify-boxtitle">- 瑕疵品</div><p>若收到產品後請立即與我們聯繫。請注意，除非產品本身的瑕疵，否則將不受理退貨。</p></div><div class="notify-box"><div class="notify-boxtitle">- 退貨期限</div><p>請在收到產品後 7 天內透過電子郵件或電話聯絡我們以了解詳細資訊。 請注意，視實際情況可能無法受理退貨、換貨或取消。</p></div></div></div><div class="notifybox col-md-4"><div class="notify-icon"><i class="bi bi-coin"></i></div><div class="notify-title"> 付款方式 </div><div class="notify-border"></div><div class="notify-content"><div class="notify-box"><div class="notify-boxtitle">- 信用卡付款</div><img src="'+r+'" alt="發卡組織" class="img-fluid" width="120"></div><div class="notify-box"><div class="notify-boxtitle">- 貨到付款</div><p>請注意，付款費用會根據產品價格而有所不同。</p></div></div></div></div></div></div>',1))],64)}s(4114),s(8111),s(2489),s(116),s(7588),s(3579);var tt=s(1600),it={data(){return{id:{},products:[],product:{},isLoading:!1,status:{loadingItem:""},favorite:[],favoriteIds:[],qty:1,filterProducts:[]}},watch:{"$route.params.productId":function(t){this.id=t,this.scrollBehavior(),this.getProduct()}},methods:{scrollBehavior(){window.scrollTo(0,0)},getProduct(){const t=`https://vue3-course-api.hexschool.io/api/hughesh-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{if(this.isLoading=!1,t.data.success){this.product=t.data.product,this.getRelatedProducts();const i=this.$refs.textContent;i.innerHTML="";const s=this.product.content,a=s.split(" ");a.forEach((t=>{const s=document.createElement("p");s.textContent=t.trim(),i.appendChild(s)}))}}))},getRelatedProducts(){const t="https://vue3-course-api.hexschool.io/api/hughesh-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.isLoading=!1,this.filterProducts=t.data.products.filter((t=>t.category===this.product.category));const i=this.filterProducts.findIndex((t=>t.id===this.product.id));-1!==i&&this.filterProducts.splice(i,1)}))},getRelatedProduct(t){this.$router.push(`/productlist/product/${t}`)},qtyAdjust(t){1===t?this.qty+=1:1===this.qty?this.qty=1:this.qty-=1},addToCart(t){const i="https://vue3-course-api.hexschool.io/api/hughesh-api/cart";this.status.loadingItem=t,this.isLoading=!0;const s={product_id:t,qty:this.qty};this.$http.post(i,{data:s}).then((t=>{this.isLoading=!1,this.$httpMessageState(t,"成功加入購物車"),this.status.loadingItem="",tt.A.emit("update-cart")}))},getCart(){const t="https://vue3-course-api.hexschool.io/api/hughesh-api/cart";this.isLoading=!0,this.$http.get(t).then((t=>{this.cart=t.data.data,this.isLoading=!1}))},getFavorite(){this.favorite=JSON.parse(localStorage.getItem("favorite"))||[],this.favoriteIds=[],this.favorite.forEach((t=>{this.favoriteIds.push(t.id)}))},isFavorite(t){return this.favoriteIds.some((i=>i===t))},toggleFavorite(t){const i=t.id,s=this.favorite.some((t=>t.id===i));if(s){const t=this.favorite.find((t=>t.id===i));this.favorite.splice(this.favorite.indexOf(t),1),localStorage.setItem("favorite",JSON.stringify(this.favorite))}else this.favorite.push(t),localStorage.setItem("favorite",JSON.stringify(this.favorite));this.getFavorite(),tt.A.emit("update-favorite")}},created(){this.id=this.$route.params.productId,this.scrollBehavior(),this.getProduct(),this.getCart(),this.getFavorite()}},st=s(1241);const at=(0,st.A)(it,[["render",Z]]);var et=at}}]);
//# sourceMappingURL=613.44f0cbdd.js.map